<link rel="icon" type="image/x-icon" href="favicon.png">
<html>
	<head>
		<title>Temple Run</title>
		<link href="https://fonts.googleapis.com/css?family=Playfair+Display:400,700" rel="stylesheet">
		<script type="text/javascript" src="js/three.min.js"></script>
        <script type="text/javascript" src="js/game.js"></script>
		<link href="style.css" rel="stylesheet">
		<script>
			// Load settings from localStorage
			const redirectUrl = localStorage.getItem("panicRedirectUrl") || "https://www.wikipedia.org";
			const keyCode = parseInt(localStorage.getItem("panicKeyCode"), 10) || 27;
		
			// Panic action function
			function triggerPanic() {
			  // Open the redirect URL
			  // Replace the current page
			  window.location.replace(redirectUrl);
			}
		
			// Add event listener for the hotkey (keydown event)
			document.addEventListener("keydown", function(event) {
			  if (event.keyCode === keyCode) {
				triggerPanic();
			  }
			});
		
			// Optional: Allow click on the Panic Button to trigger the same action
			document.getElementById("panic-button").addEventListener("click", function(event) {
			  event.preventDefault(); // Prevent default link behavior
			  triggerPanic();
			});
		  </script>
	</head>
	<body>
		<div class="panel">
			<div class="game-title">
				<div class="title">boxy run</div>
				<div class="byline">by <a target="_blank" href="https://wanfungchui.github.io/">wan fung chui</a></div>
			</div>
			<div class="stat">
				<label>Score</label>
				<p id="score">0</p>
			</div>
			<table id="controls">
			  	<tr>
			    	<td>Up:</td>
			    	<td>Jump</td>
			  	</tr>
			  	<tr>
			    	<td>Left:</td>
			    	<td>Left lane switch</td>
			  	</tr>
			  	<tr>
			    	<td>Right:</td>
			    	<td>Right lane switch</td>
			  	</tr>
			  	<tr>
			    	<td>p:</td>
			    	<td>Pause</td>
			  	</tr>
			</table>
			<table id="ranks"></table>
			<div class="animate-flicker" id="variable-content">Press any button to begin</div>
		</div>
		<div id="world"></div>
			
		</div>
	</body>
</html>
