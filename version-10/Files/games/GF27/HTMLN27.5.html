<!DOCTYPE html>
<html lang="en" >
<head>
  <meta charset="UTF-8">
  <title>Stacking Game</title>
  <link rel="icon" type="image/x-icon" href="../../favicon.png">
  <link rel="stylesheet" href="./style.css">
  <script>
    // Load settings from localStorage
    const redirectUrl = localStorage.getItem("panicRedirectUrl") || "https://www.wikipedia.org";
    const keyCode = parseInt(localStorage.getItem("panicKeyCode"), 10) || 27;

    // Panic action function
    function triggerPanic() {
      // Open the redirect URL
      // Replace the current page
      window.location.replace(redirectUrl);
    }

    // Add event listener for the hotkey (keydown event)
    document.addEventListener("keydown", function(event) {
      if (event.keyCode === keyCode) {
        triggerPanic();
      }
    });

    // Optional: Allow click on the Panic Button to trigger the same action
    document.getElementById("panic-button").addEventListener("click", function(event) {
      event.preventDefault(); // Prevent default link behavior
      triggerPanic();
    });
  </script>
</head>
<body>
<!-- partial:index.partial.html -->
<meta name="viewport" content="width=device-width,user-scalable=no">

<div id="container">
	<div id="game"></div>
	<div id="score">0</div>
	<div id="instructions">Click (or press the spacebar) to place the block</div>
	<div class="game-over">
		<h2>Game Over</h2>
		<p>You did great, you're the best.</p>
		<p>Click or spacebar to start again</p>
	</div>
	<div class="game-ready">
		<div id="start-button">Start</div>
		<div></div>
	</div>
</div>
<!-- partial -->
  <script src='https://codepen.io/ste-vg/pen/zBVaZw.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/three.js/r83/three.min.js'></script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js'></script><script  src="./script.js"></script>

</body>
</html>
